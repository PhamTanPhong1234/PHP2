define(['jquery'],function($){'use strict';var initializeQty=function(remainQty,soldQty,element){var itemLeft=$('.remaining-qty-items',element).find('.count-items'),itemSold=$('.sold-qty-items',element).find('.count-items'),floatRemain=$('.float-remain',element).find('.widget-qty'),floatSold=$('.float-sold',element).find('.widget-qty'),combineQty=$('.combine-qty-items',element).find('.count-items');var totalSale=parseInt(soldQty)+parseInt(remainQty);$(element).attr('style','--percent: '+(soldQty/totalSale)*100+'%');itemLeft.html(remainQty);itemSold.html(soldQty);combineQty.html(soldQty+'/'+totalSale);floatRemain.html(remainQty);floatSold.html(soldQty);};return function(data,element){var productId=data.prodId,remainQty=data.qtyRemain,soldQty=data.qtySold,isSimpleProduct=data.isSimpleProduct;if(isSimpleProduct){$.ajax({url:data.qtyUrl,dataType:'json',data:{'id':productId},cache:false,success:function(res){remainQty=res.qtyRemain;soldQty=res.qtySold;initializeQty(remainQty,soldQty,element);}});}else{remainQty=this.options.qtyRemain;soldQty=this.options.qtySold;initializeQty(remainQty,soldQty,element);}};});